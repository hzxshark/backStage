webpackJsonp([1],{Bsyu:function(t,e){},DFj7:function(t,e){},KF4s:function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("xd7I"),i=o("4YfN"),a=o.n(i),n=o("R4Sj"),l={name:"App",data:function(){return{tabPosition:"left"}},computed:a()({},Object(n.b)(["admin"])),methods:{handleOpen:function(t,e){},handleClose:function(t,e){},exit:function(){this.$store.commit("exit"),this.$Bus.$emit("init")}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("el-container",[s("el-header",[s("el-col",{staticClass:"logo",attrs:{span:12},nativeOn:{click:function(e){return t.$router.push("/")}}},[s("strong",[t._v("外卖类电商后台管理系统")])]),t._v(" "),s("el-col",{staticClass:"admin",attrs:{span:12}},[t._v("欢迎您\n                "),s("el-dropdown",[s("span",{staticClass:"el-dropdown-link"},[t._v("\n                        "+t._s(t.admin.adminInfo.adminName)+" "),s("img",{attrs:{src:o("oY7U")}}),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[t._v("修改密码")]),t._v(" "),s("el-dropdown-item",[t._v("我的待办")]),t._v(" "),s("el-dropdown-item",{nativeOn:{click:function(e){return t.exit(e)}}},[t._v("退出")])],1)],1)],1)],1),t._v(" "),s("el-container",[s("el-aside",{attrs:{width:"200px"}},[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2"},on:{open:t.handleOpen,close:t.handleClose}},[s("el-menu-item",{attrs:{index:"0"},nativeOn:{click:function(e){return t.$router.push("/")}}},[s("i",{staticClass:"el-icon-setting"}),t._v(" "),s("span",[t._v("首页")])]),t._v(" "),s("el-submenu",{attrs:{index:"1"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-warning"}),t._v(" "),s("span",[t._v("管理员信息")])]),t._v(" "),s("el-menu-item",{attrs:{index:"1-1"},nativeOn:{click:function(e){return t.$router.push("/AdminLoginLog")}}},[t._v("管理员登录日志")]),t._v(" "),s("el-menu-item",{attrs:{index:"1-2"},nativeOn:{click:function(e){return t.$router.push("/AdminInfo")}}},[t._v("管理员信息列表")])],2),t._v(" "),s("el-submenu",{attrs:{index:"2"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-menu"}),t._v(" "),s("span",[t._v("店铺信息")])]),t._v(" "),s("el-menu-item",{attrs:{index:"2-1"},nativeOn:{click:function(e){return t.$router.push("/shopTypeList")}}},[t._v("店铺类别管理")]),t._v(" "),s("el-menu-item",{attrs:{index:"2-2"},nativeOn:{click:function(e){return t.$router.push("/shopList")}}},[t._v("店铺管理")])],2),t._v(" "),s("el-submenu",{attrs:{index:"3"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-document"}),t._v(" "),s("span",[t._v("商品信息")])]),t._v(" "),s("el-menu-item",{attrs:{index:"3-1"},nativeOn:{click:function(e){return t.$router.push("/goodsTypeList")}}},[t._v("商品类别管理")]),t._v(" "),s("el-menu-item",{attrs:{index:"3-2"},nativeOn:{click:function(e){return t.$router.push("/goodsList")}}},[t._v("商品管理")])],2),t._v(" "),s("el-submenu",{attrs:{index:"4"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-setting"}),t._v(" "),s("span",[t._v("用户信息")])]),t._v(" "),s("el-menu-item",{attrs:{index:"4-1"},nativeOn:{click:function(e){return t.$router.push("/")}}},[t._v("用户总览")]),t._v(" "),s("el-menu-item",{attrs:{index:"4-2"},nativeOn:{click:function(e){return t.$router.push("/")}}},[t._v("用户管理")])],2),t._v(" "),s("el-menu-item",{attrs:{index:"5"}},[s("i",{staticClass:"el-icon-document"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("订单管理")])])],1)],1),t._v(" "),s("el-main",[s("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var d=o("C7Lr")(l,r,!1,function(t){o("pgBx")},null,null).exports,c=o("3XdE"),p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._v("\n    "+this._s(this.msg)+" "),e("input",{attrs:{type:"button",value:"改变世界"},on:{click:this.change}})])},staticRenderFns:[]};var u=o("C7Lr")({name:"child",props:["msg"],methods:{change:function(){this.$emit("update:msg","我既世界")}}},p,!1,function(t){o("WzV1")},"data-v-43596cf8",null).exports,m={name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}},computed:a()({},Object(n.b)(["admin"]),{child:u}),methods:{change:function(t){this.msg=t}}},h={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"hello"},[o("h1",[t._v("欢迎来到XXX后台管理系统")]),t._v(" "),o("p",[t._v("管理员： "+t._s(t.admin.adminInfo.adminName))]),t._v(" "),o("p",[t._v("CPL： 1")]),t._v(" "),o("p",[t._v("待处理工单数量： "),o("el-link",{attrs:{type:"primary"}},[t._v("0")])],1)])},staticRenderFns:[]};var g=o("C7Lr")(m,h,!1,function(t){o("rmKT")},"data-v-b42c5708",null).exports,f={name:"adminLoginLogList",mounted:function(){this.$store.dispatch("getAdminLogList")},methods:{handleDelete:function(t){var e=this;this.$confirm("此操作将删除此条登陆信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$ajax.get("/delAdminLoginInfo",{params:{id:t._id}}).then(function(t){1==t.ok?(e.$store.dispatch("getAdminLogList",{pageIndex:e.$store.state.page.pageIndex}),e.$message({message:"删除成功",type:"success"})):alert(t.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}},v={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.$store.state.loading,expression:"$store.state.loading"}],staticStyle:{width:"100%"},attrs:{data:t.$store.state.admin.adminLoginLogList,stripe:""}},[o("el-table-column",{attrs:{type:"index",label:"#"}}),t._v(" "),o("el-table-column",{attrs:{prop:"adminName",label:"管理者账户",width:"160"}}),t._v(" "),o("el-table-column",{attrs:{prop:"_id",label:"登陆唯一标识",width:"230"}}),t._v(" "),o("el-table-column",{attrs:{label:"登陆时间",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[t._v("\n                "+t._s(t._f("date")(e.row.loginTime))+"\n            ")])}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"ip",label:"登陆IP地址"}}),t._v(" "),o("el-table-column",{attrs:{prop:"address",label:"登陆地址"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"small"},on:{click:function(o){return t.handleDelete(e.row)}}})]}}])})],1),t._v(" "),o("page",{attrs:{dis:"getAdminLogList"}})],1)},staticRenderFns:[]};var y=o("C7Lr")(f,v,!1,function(t){o("xOTm")},null,null).exports,_={name:"AdminInfo",data:function(){return{dialogFormVisible:!1,keyWord:"",adminForm:{adminName:"",passWord:""},cplList:[1,2,3,4,5]}},methods:{backList:function(){this.$store.dispatch("getAdminInfoList"),this.keyWord=""},searchByKeyword:function(){var t=this.keyWord;this.$store.dispatch("getAdminInfoList",{keyWord:t})},addAdminInfo:function(){var t=this;this.$ajax.post("/addAdminInfo",{adminName:this.adminForm.adminName,passWord:this.adminForm.passWord}).then(function(e){1==e.ok?(t.dialogFormVisible=!1,t.adminForm.adminName="",t.adminForm.passWord="",t.$store.dispatch("getAdminInfoList",t.$store.state.page.pageIndex),t.$message({message:"添加管理员信息成功！",type:"success"})):alert(e.msg)})},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$ajax.get("/delAdminInfo",{params:{id:t._id}}).then(function(t){1==t.ok?(e.$store.dispatch("getAdminInfoList",{pageIndex:e.$store.state.page.pageIndex}),e.$message({message:"删除成功",type:"success"})):alert(t.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}},mounted:function(){this.$store.dispatch("getAdminInfoList")}},b={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-col",{staticClass:"toolbar"},[o("el-form",{attrs:{inline:!0}},[o("el-input",{staticStyle:{width:"200px"},attrs:{type:"text"},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}}),t._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchByKeyword}},[t._v("搜 索")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.backList}},[t._v("返回列表")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("添 加")])],1)],1),t._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.$store.state.admin.adminInfoList,stripe:""}},[o("el-table-column",{attrs:{type:"index",label:"#"}}),t._v(" "),o("el-table-column",{attrs:{prop:"adminName",label:"管理者名称",width:"140"}}),t._v(" "),o("el-table-column",{attrs:{prop:"_id",label:"编号",width:"230"}}),t._v(" "),o("el-table-column",{attrs:{label:"添加时间",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[t._v("\n            "+t._s(t._f("date")(e.row.addTime))+"\n        ")])}}])}),t._v(" "),o("el-table-column",{attrs:{label:"最后登陆时间",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[t._v("\n            "+t._s(t._f("date")(e.row.addTime))+"\n        ")])}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"cpl",label:"CPL(当前权限点)",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{label:"管理",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"small"},on:{click:function(o){return t.handleClick(e.row)}}}),t._v(" "),o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"small"},on:{click:function(o){return t.handleDelete(e.row)}}})]}}])})],1),t._v(" "),o("page",{attrs:{dis:"getAdminInfoList"}}),t._v(" "),o("el-dialog",{staticClass:"warp_dialog",attrs:{title:"添加管理者",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("el-form",{attrs:{model:t.adminForm,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"管理者账户名"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.adminForm.adminName,callback:function(e){t.$set(t.adminForm,"adminName",e)},expression:"adminForm.adminName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"初始密码"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.adminForm.passWord,callback:function(e){t.$set(t.adminForm,"passWord",e)},expression:"adminForm.passWord"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"CPL"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.cplList,function(t){return o("el-option",{key:t,attrs:{label:t,value:t,disabled:1===t}})}),1)],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.addAdminInfo}},[t._v("提 交")])],1)],1)],1)},staticRenderFns:[]};var w=o("C7Lr")(_,b,!1,function(t){o("Bsyu")},"data-v-35b78a87",null).exports,k={name:"shopTypeList",data:function(){return{row:{},shopVisible:!1,dialogFormVisible:!1,keyWord:""}},methods:{handleAddShop:function(t){this.shopVisible=!0,this.row=t},handleAdd:function(){this.row={},this.dialogFormVisible=!0},handleClick:function(t){this.dialogFormVisible=!0,this.row=t},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$ajax.get("/delShopTypeInfo",{params:{id:t._id}}).then(function(t){1==t.ok?(e.$store.dispatch("getShopTypeList",{pageIndex:e.$store.state.page.pageIndex}),e.$message({message:"删除成功",type:"success"})):alert(t.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},searchShopType:function(){var t=this.keyWord;this.$store.dispatch("getShopTypeList",{pageIndex:1,keyWord:t})},backList:function(){this.$store.dispatch("getShopTypeList"),this.keyWord=""}},mounted:function(){this.$store.dispatch("getShopTypeList")}},L={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-col",{staticClass:"toolbar"},[o("el-form",{attrs:{inline:!0}},[o("el-input",{staticStyle:{width:"200px"},attrs:{type:"text"},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}}),t._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchShopType}},[t._v("搜 索")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.backList}},[t._v("返回列表")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v("添加类别")])],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.$store.state.loading,expression:"$store.state.loading"}],staticStyle:{width:"100%"},attrs:{data:t.$store.state.shop.shopTypeList,stripe:""}},[o("el-table-column",{attrs:{type:"index",label:"#"}}),t._v(" "),o("el-table-column",{attrs:{prop:"shopTypeName",label:"店铺类别名称",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{label:"店铺类别图片"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[o("img",{attrs:{src:t._f("picUrl")(e.row.shopTypePic),alt:""}})])}}])}),t._v(" "),o("el-table-column",{attrs:{label:"添加时间",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[t._v("\n                "+t._s(t._f("date")(e.row.addTime))+"\n            ")])}}])}),t._v(" "),o("el-table-column",{attrs:{label:"修改时间",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[t._v("\n                "+t._s(t._f("date")(e.row.upTime))+"\n            ")])}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"small"},on:{click:function(o){return t.handleClick(e.row)}}}),t._v(" "),o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"small"},on:{click:function(o){return t.handleDelete(e.row)}}}),t._v(" "),o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(o){return t.handleAddShop(e.row)}}},[t._v("添加店铺")])]}}])})],1),t._v(" "),o("page",{attrs:{dis:"getShopTypeList"}}),t._v(" "),o("shop-type",{attrs:{dialogFormVisible:t.dialogFormVisible,row:t.row},on:{"update:dialogFormVisible":function(e){t.dialogFormVisible=e},"update:dialog-form-visible":function(e){t.dialogFormVisible=e}}}),t._v(" "),o("shop-manage",{attrs:{shopVisible:t.shopVisible,row:t.row},on:{"update:shopVisible":function(e){t.shopVisible=e},"update:shop-visible":function(e){t.shopVisible=e}}})],1)},staticRenderFns:[]};var T=o("C7Lr")(k,L,!1,function(t){o("U43M")},"data-v-18cd002b",null).exports,$={name:"shopList",methods:{searchByKeyword:function(){var t=this.keyWord;this.$store.dispatch("getShopList",{keyWord:t})},backList:function(){this.$store.dispatch("getShopList"),this.keyWord=""},addShop:function(){this.shopVisible=!0,this.row1={}},handleClick:function(t){this.shopVisible=!0,this.row1=t},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$ajax.get("/delShopInfo",{params:{id:t._id}}).then(function(t){1==t.ok?(e.$store.dispatch("getShopList",{pageIndex:e.$store.state.page.pageIndex}),e.$message({message:"删除成功",type:"success"})):alert(t.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}},data:function(){return{row1:{},shopVisible:!1,keyWord:""}},mounted:function(){this.$store.dispatch("getShopList")}},x={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-col",{staticClass:"toolbar",attrs:{span:24}},[o("el-form",{attrs:{inline:!0}},[o("el-form-item",[o("el-input",{attrs:{type:"text"},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchByKeyword}},[t._v("搜索")])],1),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.backList}},[t._v("返回列表")]),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.addShop}},[t._v("添加店铺")])],1)],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.$store.state.loading,expression:"$store.state.loading"}],staticStyle:{width:"100%"},attrs:{data:t.$store.state.shop.shopList,stripe:""}},[o("el-table-column",{attrs:{type:"index",label:"#"}}),t._v(" "),o("el-table-column",{attrs:{prop:"shopName",label:"店铺名称",width:"140"}}),t._v(" "),o("el-table-column",{attrs:{label:"店铺图片",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[o("img",{attrs:{src:t._f("picUrl")(e.row.shopPic),alt:""}})])}}])}),t._v(" "),o("el-table-column",{attrs:{label:"店铺类别",prop:"shopTypeName",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{label:"添加时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[t._v("\n                "+t._s(t._f("date")(e.row.addTime))+"\n            ")])}}])}),t._v(" "),o("el-table-column",{attrs:{label:"修改时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[t._v("\n                "+t._s(t._f("date")(e.row.upTime))+"\n            ")])}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"small"},on:{click:function(o){return t.handleClick(e.row)}}}),t._v(" "),o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"small"},on:{click:function(o){return t.handleDelete(e.row)}}})]}}])})],1),t._v(" "),o("page",{attrs:{dis:"getShopList"}}),t._v(" "),o("shopManage",{attrs:{shopVisible:t.shopVisible,row1:t.row1},on:{"update:shopVisible":function(e){t.shopVisible=e},"update:shop-visible":function(e){t.shopVisible=e}}})],1)},staticRenderFns:[]};var I=o("C7Lr")($,x,!1,function(t){o("DFj7")},null,null).exports,N={name:"goodsTypeList",data:function(){return{row1:{},row:{},keyWord:"",goodsTypeVisible:!1,goodsVisible:!1}},methods:{backList:function(){this.$store.dispatch("getGoodsTypeList"),this.keyWord=""},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$ajax.post("/delGoodsTypeInfo",{id:t._id}).then(function(t){1==t.ok?(e.$store.dispatch("getGoodsTypeList",{pageIndex:e.$store.state.page.pageIndex}),e.$message({message:"删除成功",type:"success"})):alert(t.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},searchGoodsType:function(){var t=this.keyWord;this.$store.dispatch("getGoodsTypeList",{keyWord:t})},handleAdd:function(){this.row={},this.goodsTypeVisible=!0},handleClick:function(t){this.goodsTypeVisible=!0,this.row=t},handleAddGoods:function(t){this.goodsVisible=!0,this.row1=t}},mounted:function(){this.$store.dispatch("getGoodsTypeList")}},S={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-col",{staticClass:"toolbar"},[o("el-form",{attrs:{inline:!0}},[o("el-input",{staticStyle:{width:"200px"},attrs:{type:"text"},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}}),t._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchGoodsType}},[t._v("搜 索")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.backList}},[t._v("返回列表")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v("添加商品类别")])],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.$store.state.loading,expression:"$store.state.loading"}],staticStyle:{width:"100%"},attrs:{data:t.$store.state.goods.goodsTypeList,stripe:""}},[o("el-table-column",{attrs:{type:"index",label:"#"}}),t._v(" "),o("el-table-column",{attrs:{prop:"goodsTypeName",label:"商品类别名称",width:"140"}}),t._v(" "),o("el-table-column",{attrs:{label:"所属店铺",prop:"shopName",width:"230"}}),t._v(" "),o("el-table-column",{attrs:{label:"添加时间",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[t._v("\n                "+t._s(t._f("date")(e.row.addTime))+"\n            ")])}}])}),t._v(" "),o("el-table-column",{attrs:{label:"修改时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[t._v("\n                "+t._s(t._f("date")(e.row.upTime))+"\n            ")])}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"small"},on:{click:function(o){return t.handleClick(e.row)}}}),t._v(" "),o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"small"},on:{click:function(o){return t.handleDelete(e.row)}}}),t._v(" "),o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(o){return t.handleAddGoods(e.row)}}},[t._v("添加商品")])]}}])})],1),t._v(" "),o("page",{attrs:{dis:"getGoodsTypeList"}}),t._v(" "),o("goodsTypeDialog",{attrs:{goodsTypeVisible:t.goodsTypeVisible,row:t.row},on:{"update:goodsTypeVisible":function(e){t.goodsTypeVisible=e},"update:goods-type-visible":function(e){t.goodsTypeVisible=e}}}),t._v(" "),o("goodsDialog",{attrs:{goodsVisible:t.goodsVisible,row1:t.row1},on:{"update:goodsVisible":function(e){t.goodsVisible=e},"update:goods-visible":function(e){t.goodsVisible=e}}})],1)},staticRenderFns:[]};var C=o("C7Lr")(N,S,!1,function(t){o("Z+Wz")},"data-v-e81a35e6",null).exports,F=o("a3Yh"),V={name:"goodsList",data:function(){return{row:{},keyWord:"",goodsVisible:!1,typeId:""}},methods:o.n(F)()({getGoodsListByShop:function(){this.$store.dispatch("getGoodsListByShop",{keyWord:this.typeId}),this.typeId=""},backList:function(){this.$store.dispatch("getGoodsList"),this.keyWord=""},searchByKeyword:function(){var t=this.keyWord;this.$store.dispatch("getGoodsList",{pageIndex:1,keyWord:t})},addGoods:function(){this.row={},this.goodsVisible=!0},handleClick:function(t){this.goodsVisible=!0,this.row=t},handleDelete:function(t){var e=this;this.$ajax.post("/delGoodsInfo",{id:t._id}).then(function(t){console.log(t),1==t.ok?e.$store.dispatch("getGoodsList"):alert(t.msg)})}},"handleDelete",function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$ajax.post("/delGoodsInfo",{id:t._id}).then(function(t){console.log(t),1==t.ok?(e.$message({message:"删除成功",type:"success"}),e.$store.dispatch("getGoodsList")):alert(t.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}),mounted:function(){this.$store.dispatch("getGoodsList")}},W={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-col",{staticClass:"toolbar"},[o("el-form",{attrs:{inline:!0}},[o("el-form-item",{attrs:{label:"店铺名称"}},[o("el-select",{attrs:{placeholder:"请选择"},on:{change:t.getGoodsListByShop},model:{value:t.typeId,callback:function(e){t.typeId=e},expression:"typeId"}},t._l(t.$store.state.shop.shopList,function(t){return o("el-option",{key:t._id,attrs:{label:t.shopName,value:t._id}})}),1)],1),t._v(" "),o("el-input",{staticStyle:{width:"200px"},attrs:{type:"text"},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}}),t._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchByKeyword}},[t._v("搜 索")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.backList}},[t._v("返回列表")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.addGoods}},[t._v("添加商品")])],1)],1),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.$store.state.loading,expression:"$store.state.loading"}],staticStyle:{width:"100%"},attrs:{data:t.$store.state.goods.goodsList,stripe:""}},[o("el-table-column",{attrs:{type:"index",label:"#"}}),t._v(" "),o("el-table-column",{attrs:{label:"商品图片",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[o("img",{attrs:{src:t._f("picUrl")(e.row.goodsPic),alt:""}})])}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{label:"价格",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[t._v("\n                    "+t._s(t._f("currency")(e.row.goodsPrice))+"\n                ")])}}])}),t._v(" "),o("el-table-column",{attrs:{label:"商品描述",prop:"goodsTxt",width:"130"}}),t._v(" "),o("el-table-column",{attrs:{label:"是否打折",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[t._v("\n                    "+t._s(t._f("hotCheap")(e.row.isCheap))+"\n                ")])}}])}),t._v(" "),o("el-table-column",{attrs:{label:"是否热销",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[t._v("\n                    "+t._s(t._f("hotCheap")(e.row.isHot))+"\n                ")])}}])}),t._v(" "),o("el-table-column",{attrs:{label:"商品类别",prop:"goodsTypeName",width:"90"}}),t._v(" "),o("el-table-column",{attrs:{label:"所属店铺",prop:"shopName",width:"90"}}),t._v(" "),o("el-table-column",{attrs:{label:"添加时间",width:"106"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[t._v("\n                    "+t._s(t._f("date")(e.row.addTime))+"\n                ")])}}])}),t._v(" "),o("el-table-column",{attrs:{label:"修改时间",width:"106"},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{},[t._v("\n                    "+t._s(t._f("date")(e.row.upTime))+"\n                ")])}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"small"},on:{click:function(o){return t.handleClick(e.row)}}}),t._v(" "),o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"small"},on:{click:function(o){return t.handleDelete(e.row)}}})]}}])})],1),t._v(" "),o("goodsDialog",{attrs:{goodsVisible:t.goodsVisible,row:t.row},on:{"update:goodsVisible":function(e){t.goodsVisible=e},"update:goods-visible":function(e){t.goodsVisible=e}}}),t._v(" "),o("page",{attrs:{dis:"getGoodsList"}})],1)},staticRenderFns:[]};var G=o("C7Lr")(V,W,!1,function(t){o("KF4s")},"data-v-a9d8414a",null).exports;s.default.use(c.a);var A=new c.a({routes:[{path:"/",name:"HelloWorld",component:g},{path:"/AdminLoginLog",name:"AdminLoginLog",component:y},{path:"/shopTypeList",name:"shopTypeList",component:T},{path:"/AdminInfo",name:"AdminInfo",component:w},{path:"/shopList",name:"shopList",component:I},{path:"/goodsTypeList",name:"goodsTypeList",component:C},{path:"/goodsList",name:"goodsList",component:G}]}),P={name:"Login",data:function(){return{loginForm:{adminName:"",passWord:""},rules:{adminName:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:4,max:16,message:"用户名长度必须4-16个字符",trigger:"blur"}],passWord:[{min:4,max:16,message:"密码长度必须4-12个字符",trigger:"blur"},{required:!0,message:"密码不能为空",trigger:"blur"}]}}},methods:{loginFn:function(t){var e=this;this.$refs[t].validate(function(t){t?e.$ajax.post("/login",{adminName:e.loginForm.adminName,passWord:e.loginForm.passWord}).then(function(t){1==t.ok?(localStorage.adminName=t.adminName,localStorage.adminId=t.adminId,e.$Bus.$emit("init")):alert(t.msg)}):alert("输入的用户名或密码不正确")})}}},B={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-form",{ref:"valiLoginForm",staticClass:"demo-ruleForm",attrs:{"label-width":"100px",model:t.loginForm,rules:t.rules}},[o("h3",[t._v("欢迎登录XXX后台管理系统")]),t._v(" "),o("br"),t._v(" "),o("el-form-item",{attrs:{label:"用户名",prop:"adminName"}},[o("el-input",{attrs:{type:"text"},model:{value:t.loginForm.adminName,callback:function(e){t.$set(t.loginForm,"adminName",e)},expression:"loginForm.adminName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"passWord"}},[o("el-input",{attrs:{type:"password"},model:{value:t.loginForm.passWord,callback:function(e){t.$set(t.loginForm,"passWord",e)},expression:"loginForm.passWord"}})],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.loginFn("valiLoginForm")}}},[t._v("登录")])],1)],1)},staticRenderFns:[]};var j=o("C7Lr")(P,B,!1,function(t){o("qJDT")},"data-v-109e41d2",null).exports,D=o("4DWU"),z=o.n(D),E=(o("epTE"),o("aozt")),O=o.n(E),H=new s.default,R={state:{adminInfoList:[],adminLoginLogList:[],adminInfo:{adminName:localStorage.adminName,adminId:localStorage.adminId}},mutations:{exit:function(t){localStorage.removeItem("adminName"),localStorage.removeItem("adminId"),t.adminName="",t.adminId=""},changeLogList:function(t,e){t.adminLoginLogList=e.adminLoginLogList},changeAdminInfo:function(t,e){console.log(e.adminInfoList),t.adminInfoList=e.adminInfoList}},getters:{},actions:{getAdminLogList:function(t){var e=t.commit,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.pageIndex||1,a=o.pageNum||8;s.default.prototype.$ajax.get("/getAdminLogList",{params:{pageIndex:i,pageNum:a}}).then(function(t){e("changeLogList",t),e("changePageInfo",t),e("changeLoading",!1)})},getAdminInfoList:function(t){var e=t.commit,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.pageIndex||1,a=o.pageNum||8,n=o.keyWord||"";s.default.prototype.$ajax.get("/getAdminInfoList",{params:{pageIndex:i,pageNum:a,keyWord:n}}).then(function(t){e("changeAdminInfo",t),e("changePageInfo",t)})}}},q={state:{shopTypeList:[],shopList:[],shopListAll:[],shopTypeListAll:[]},mutations:{changeTypeList:function(t,e){e.pageNum>100?t.shopTypeListAll=e.shopTypeList:t.shopTypeList=e.shopTypeList},changeShopList:function(t,e){t.shopList=e.shopList}},actions:{getShopTypeList:function(t){t.state;var e=t.commit,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.pageIndex||1,a=o.keyWord||"",n=o.pageNum||8;s.default.prototype.$ajax.get("/getShopTypeList",{params:{pageIndex:i,keyWord:a,pageNum:n}}).then(function(t){e("changeTypeList",t),e("changeLoading",!1),t.pageNum<100&&e("changePageInfo",t)})},getShopList:function(t){t.state;var e=t.commit,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.pageIndex||1,a=o.pageNum||8,n=o.keyWord||"";s.default.prototype.$ajax.get("/getShopList",{params:{pageIndex:i,pageNum:a,keyWord:n}}).then(function(t){e("changeShopList",t),e("changeLoading",!1),t.pageNum<100&&e("changePageInfo",t)})}}},U={state:{goodsTypeList:[],goodsList:[]},mutations:{changeGoodsTypeList:function(t,e){t.goodsTypeList=e.goodsTypeList},changeGoodsList:function(t,e){t.goodsList=e.goodsList}},actions:{getGoodsTypeList:function(t){t.state;var e=t.commit,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o.pageIndex||1,i=o.pageNum||8,a=o.keyWord||"";O.a.get("/getGoodsTypeList",{params:{pageIndex:s,pageNum:i,keyWord:a}}).then(function(t){e("changeGoodsTypeList",t),e("changePageInfo",t),e("changeLoading",!1)})},getGoodsList:function(t){t.state;var e=t.commit,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o.pageIndex||1,i=o.pageNum||8,a=o.keyWord||"";O.a.get("/getGoodsList",{params:{pageIndex:s,pageNum:i,keyWord:a}}).then(function(t){e("changeGoodsList",t),e("changePageInfo",t),e("changeLoading",!1)})},getGoodsTypeByShop:function(t,e){t.state;var o=t.commit;O.a.get("/getGoodsTypeByShop",{params:{shopId:e}}).then(function(t){o("changeGoodsTypeList",t),o("changePageInfo",t),o("changeLoading",!1)})},getGoodsListByShop:function(t){t.state;var e=t.commit,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o.pageIndex||1,i=o.pageNum||8,a=o.keyWord||"";O.a.get("/getGoodsListByShop",{params:{pageIndex:s,pageNum:i,keyWord:a}}).then(function(t){e("changeGoodsList",t),e("changePageInfo",t),e("changeLoading",!1)})}}};s.default.use(n.a);var K=new n.a.Store({state:{loading:!0},mutations:{changeLoading:function(t,e){t.loading=e}},modules:{admin:R,page:{state:{total:0,pageNum:8,pageIndex:1},mutations:{changePageInfo:function(t,e){t.total=e.count,t.pageNum=e.pageNum,t.pageIndex=e.pageIndex}}},shop:q,goods:U}}),M={name:"shopManage",props:["shopVisible","row","row1"],data:function(){return{title:"添加店铺",typeId:"",shopName:"",shopPic:"",shopTypeName:"",isImg:!1}},mounted:function(){},methods:{fn:function(){this.$emit("update:shopVisible",!1)},addShop:function(){var t=this,e=new FormData;e.set("shopName",this.shopName),e.set("shopPic",document.querySelector(".el-upload__input").files[0]),e.set("shopTypeId",this.typeId),e.set("shopTypeName",this.shopTypeName),e.set("shopTypeName",document.querySelector("input[placeholder='请选择']").value);var o="/addShop";try{this.row1._id&&(o="/upShopById",e.set("id",this.row1._id))}catch(t){}this.$ajax.post(o,e).then(function(e){if(1==e.ok){t.$message({message:"添加店铺成功",type:"success"}),t.typeId="",t.shopName="";try{t.row1._id=""}catch(t){}t.$emit("update:shopVisible",!1),t.$store.dispatch("getShopList"),t.$refs.upload&&t.$refs.upload.clearFiles()}else alert(e.msg)})}},watch:{row:{handler:function(){this.shopName=this.row.shopName||"",this.shopTypeName=this.row.shopTypeName,this.typeId=this.row._id,this.$refs.upload&&this.$refs.upload.clearFiles()},deep:!0},row1:{handler:function(){this.$store.dispatch("getShopTypeList",{pageNum:1e3}),this.shopName=this.row1.shopName||"",this.shopTypeName=this.row1.shopTypeName,this.typeId=this.row1.shopTypeId,this.shopPic=this.row1.shopPic,this.title=this.row1._id?"修改店铺":"添加店铺",this.isImg=!!this.row1._id,this.$refs.upload&&this.$refs.upload.clearFiles()},deep:!0}}},X={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-dialog",{attrs:{title:t.title,visible:t.shopVisible},on:{"update:visible":t.fn}},[o("el-form",{attrs:{"label-width":"100px"}},[o("el-form-item",{attrs:{label:"店铺类别"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.typeId,callback:function(e){t.typeId=e},expression:"typeId"}},t._l(t.$store.state.shop.shopTypeListAll,function(t){return o("el-option",{key:t._id,attrs:{label:t.shopTypeName,value:t._id}})}),1)],1),t._v(" "),o("el-form-item",{attrs:{label:"店铺名称"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.shopName,callback:function(e){t.shopName=e},expression:"shopName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"店铺图片"}},[o("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"",limit:1,"auto-upload":!1}},[o("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1),t._v(" "),t.isImg?o("img",{staticClass:"dialogImg",attrs:{src:t._f("picUrl")(t.shopPic),alt:""}}):t._e()],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){return t.$emit("update:shopVisible",!1)}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.addShop}},[t._v("提 交")])],1)],1)],1)},staticRenderFns:[]};var Y=o("C7Lr")(M,X,!1,function(t){o("le7z")},"data-v-4c6b29f2",null).exports,J={render:function(){var t=this.$createElement;return(this._self._c||t)("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:this.$store.state.page.total,"page-size":this.$store.state.page.pageNum,"current-page":this.$store.state.page.pageIndex/1},on:{"current-change":this.fn}})},staticRenderFns:[]};var Z=o("C7Lr")({name:"page",props:["dis"],methods:{fn:function(t){this.$store.dispatch(this.dis,{pageIndex:t})}}},J,!1,function(t){o("tAeM")},"data-v-4e2597b8",null).exports,Q={name:"shopType",props:["dialogFormVisible","row"],data:function(){return{title:"添加店铺类型",form:{shopTypeName:"",shopTypePic:""}}},methods:{addShopTypeInfo:function(){var t=this,e=new FormData;e.set("shopTypeName",this.form.shopTypeName),e.set("shopTypePic",document.querySelector(".el-upload__input").files[0]);var o="/addShopTypeInfo";this.row._id&&(o="/upShopTypeById",e.set("id",this.row._id)),this.$ajax.post(o,e).then(function(e){1==e.ok?(t.$emit("update:dialogFormVisible",!1),t.$store.dispatch("getShopTypeList"),t.$message({message:e.msg,type:"success"})):alert(e.msg)})},visibleFn:function(){this.$emit("update:dialogFormVisible",!1)}},watch:{row:{handler:function(){this.form.shopTypeName=this.row.shopTypeName||"",this.title=this.row._id?"修改店铺类型":"添加店铺类型",this.form.shopTypePic=this.row.shopTypePic||"",this.$refs.upload&&this.$refs.upload.clearFiles()},deep:!0}}},tt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{attrs:{title:t.title,visible:t.dialogFormVisible},on:{"update:visible":t.visibleFn}},[o("el-form",{attrs:{model:t.form,"label-width":"120px",name:"myForm"}},[o("el-form-item",{attrs:{label:"店铺类型名称"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.shopTypeName,callback:function(e){t.$set(t.form,"shopTypeName",e)},expression:"form.shopTypeName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"店铺类型图片"}},[o("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"",limit:1,"auto-upload":!1},model:{value:t.form.shopTypePic,callback:function(e){t.$set(t.form,"shopTypePic",e)},expression:"form.shopTypePic"}},[o("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1),t._v(" "),this.row._id?o("img",{staticClass:"dialogImg",attrs:{src:t._f("picUrl")(t.form.shopTypePic),alt:""}}):t._e()],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){return t.$emit("update:dialogFormVisible",!1)}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.addShopTypeInfo}},[t._v("提 交")])],1)],1)},staticRenderFns:[]};var et=o("C7Lr")(Q,tt,!1,function(t){o("anqU")},"data-v-46b88d7a",null).exports,ot={name:"goodsTypeDialog",props:["goodsTypeVisible","row"],data:function(){return{title:"添加商品类别",shopId:"",goodsTypeName:""}},methods:{addGoodsType:function(){var t=this,e="/addGoodsType",o={shopId:this.shopId,goodsTypeName:this.goodsTypeName,shopName:document.querySelector("input[placeholder='请选择']").value};console.log(this.row._id),this.row._id&&(e="/upGoodsTypeById",o.id=this.row._id),this.$ajax.post(e,o).then(function(e){1==e.ok?(t.$emit("update:goodsTypeVisible",!1),t.$store.dispatch("getGoodsTypeList"),t.$message({message:e.msg,type:"success"})):alert(e.msg)})}},watch:{row:{handler:function(){console.log(111),this.goodsTypeName=this.row.goodsTypeName,this.shopId=this.row.shopId,this.title=this.row._id?"修改商品类别":"添加商品类别"},deep:!0}},mounted:function(){this.$store.dispatch("getShopList",{pageNum:1e4})}},st={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-dialog",{staticClass:"warp_dialog",attrs:{title:t.title,visible:t.goodsTypeVisible},on:{"update:visible":function(e){return t.$emit("update:goodsTypeVisible",!1)}}},[o("el-form",{attrs:{"label-width":"100px"}},[o("el-form-item",{attrs:{label:"店铺名称"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.shopId,callback:function(e){t.shopId=e},expression:"shopId"}},t._l(t.$store.state.shop.shopList,function(t){return o("el-option",{key:t._id,attrs:{label:t.shopName,value:t._id}})}),1)],1),t._v(" "),o("el-form-item",{attrs:{label:"商品类型名称"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.goodsTypeName,callback:function(e){t.goodsTypeName=e},expression:"goodsTypeName"}})],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){return t.$emit("update:goodsTypeVisible",!1)}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.addGoodsType}},[t._v("提 交")])],1)],1)],1)},staticRenderFns:[]};var it=o("C7Lr")(ot,st,!1,function(t){o("VtMt")},"data-v-b9587aaa",null).exports,at={name:"goodsDialog",props:["goodsVisible","row1","row"],data:function(){return{isImg:!1,title:"添加商品",isCheap:"2",isHot:"2",goodsTxt:"",shopId:"",goodsTypeId:"",goodsName:"",goodsPrice:"",goodsPic:""}},methods:{addGoods:function(){var t=this,e=new FormData;e.set("shopName",document.querySelector("input[placeholder='请选择店铺名称']").value),e.set("goodsTypeName",document.querySelector("input[placeholder='请选择商品类别']").value),e.set("shopId",this.shopId),e.set("goodsTypeId",this.goodsTypeId),e.set("goodsName",this.goodsName),e.set("goodsPrice",this.goodsPrice),e.set("isHot",this.isHot),e.set("isCheap",this.isCheap),e.set("goodsPic",document.querySelector(".el-upload__input").files[0]),e.set("goodsTxt",this.goodsTxt);try{this.row._id&&("/upGoodsById",e.set("id",this.row._id))}catch(t){}this.$ajax.post("/addGoods",e).then(function(e){if(console.log(e),1==e.ok){t.$message({message:"添加商品成功",type:"success"}),t.$refs.upload&&t.$refs.upload.clearFiles();try{t.row._id=""}catch(t){}t.$store.dispatch("getGoodsList"),t.$emit("update:goodsVisible",!1)}else alert(e.msg)})},getGoodsType:function(){console.log("我执行了"),this.$store.dispatch("getGoodsTypeByShop",this.shopId)}},watch:{row1:{handler:function(){this.shopId=this.row1.shopId,this.goodsTypeId=this.row1._id},deep:!0},row:{handler:function(){this.shopId=this.row.shopId,this.goodsTypeId=this.row.goodsTypeId,this.title=this.row._id?"修改商品信息":"添加商品信息",this.isImg=!!this.row._id,this.goodsPic=this.row.goodsPic,this.goodsName=this.row.goodsName,this.goodsPrice=this.row.goodsPrice,this.goodsTxt=this.row.goodsTxt,this.isHot=this.row.isHot,this.isCheap=this.row.isCheap,this.$refs.upload&&this.$refs.upload.clearFiles()}}},mounted:function(){this.$store.dispatch("getShopList",{pageNum:1e4}),this.$store.dispatch("getGoodsTypeList",{pageNum:1e4})}},nt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-dialog",{attrs:{title:t.title,visible:t.goodsVisible},on:{"update:visible":function(e){return t.$emit("update:goodsVisible",!1)}}},[o("el-form",{attrs:{inline:!0}},[o("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"店铺名称"}},[o("el-select",{attrs:{placeholder:"请选择店铺名称"},on:{change:t.getGoodsType},model:{value:t.shopId,callback:function(e){t.shopId=e},expression:"shopId"}},t._l(t.$store.state.shop.shopList,function(t){return o("el-option",{key:t._id,attrs:{label:t.shopName,value:t._id}})}),1)],1),t._v(" "),o("el-form-item",{attrs:{label:"商品类型"}},[o("el-select",{attrs:{placeholder:"请选择商品类别"},model:{value:t.goodsTypeId,callback:function(e){t.goodsTypeId=e},expression:"goodsTypeId"}},t._l(t.$store.state.goods.goodsTypeList,function(t){return o("el-option",{key:t._id,attrs:{label:t.goodsTypeName,value:t._id}})}),1)],1),t._v(" "),o("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"商品名称"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.goodsName,callback:function(e){t.goodsName=e},expression:"goodsName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"商品价格"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.goodsPrice,callback:function(e){t.goodsPrice=e},expression:"goodsPrice"}})],1),t._v(" "),o("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"是否热销"}},[o("el-radio",{attrs:{label:"1"},model:{value:t.isHot,callback:function(e){t.isHot=e},expression:"isHot"}},[t._v("是")]),t._v(" "),o("el-radio",{attrs:{label:"2"},model:{value:t.isHot,callback:function(e){t.isHot=e},expression:"isHot"}},[t._v("否")])],1),t._v(" "),o("el-form-item",{attrs:{label:"是否优惠"}},[o("el-radio",{attrs:{label:"1"},model:{value:t.isCheap,callback:function(e){t.isCheap=e},expression:"isCheap"}},[t._v("是")]),t._v(" "),o("el-radio",{attrs:{label:"2"},model:{value:t.isCheap,callback:function(e){t.isCheap=e},expression:"isCheap"}},[t._v("否")])],1),t._v(" "),o("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"商品图片"}},[o("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"",limit:1,"auto-upload":!1}},[o("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1),t._v(" "),t.isImg?o("img",{staticClass:"dialogImg",attrs:{src:t._f("picUrl")(t.goodsPic),alt:""}}):t._e()],1),t._v(" "),o("el-form-item",{attrs:{label:"商品描述"}},[o("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入对该商品的描述"},model:{value:t.goodsTxt,callback:function(e){t.goodsTxt=e},expression:"goodsTxt"}})],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){return t.$emit("update:goodsVisible",!1)}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.addGoods}},[t._v("提 交")])],1)],1)],1)},staticRenderFns:[]};var lt=o("C7Lr")(at,nt,!1,function(t){o("c79+")},"data-v-5af7aa64",null).exports,rt={currency:function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"￥")+(t*=1).toFixed(2)},date:function(t){return new Date(t).toLocaleString()},picUrl:function(t){return"http://127.0.0.1/"+t},hotCheap:function(t){return"1"==t?"是":"2"==t?"否":void 0}};for(var dt in s.default.component("page",Z),s.default.component("shopType",et),s.default.component("shopManage",Y),s.default.component("goodsTypeDialog",it),s.default.component("goodsDialog",lt),s.default.prototype.$ajax=O.a,s.default.prototype.$Bus=H,s.default.config.productionTip=!1,s.default.use(z.a),rt)s.default.filter(dt,rt[dt]);O.a.interceptors.request.use(function(t){return t.url="http://127.0.0.1"+t.url,t}),O.a.interceptors.response.use(function(t){return t.data}),new s.default({el:"#app",data:{login:!1},methods:{init:function(){localStorage.adminId?this.login=!0:this.login=!1}},mounted:function(){this.init(),this.$Bus.$on("init",this.init)},router:A,store:K,components:{App:d,Login:j},template:"<components :is=\"login?'App':'Login'\"></components>"})},U43M:function(t,e){},VtMt:function(t,e){},WzV1:function(t,e){},"Z+Wz":function(t,e){},anqU:function(t,e){},"c79+":function(t,e){},epTE:function(t,e){},le7z:function(t,e){},oY7U:function(t,e,o){t.exports=o.p+"static/img/pig1.16aa049.jpg"},pgBx:function(t,e){},qJDT:function(t,e){},rmKT:function(t,e){},tAeM:function(t,e){},xOTm:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7864c02fbd2424354239.js.map